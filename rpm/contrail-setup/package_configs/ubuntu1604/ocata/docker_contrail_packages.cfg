# ****************************************************************
# CAUTION: ANY CHANGES TO DEFAULT APPLIES TO ALL SECTIONS
#          IF NOT OVERWRITTEN LOCALLY
# ****************************************************************
# Usage:
# [build target name]
# pkgs =        # list of packages generated by the make target
#               # multiple packages are comma separated or with
#               # new lines
#
# pkg_pattern = # pattern to match packages. would be used
#               # packager to pick packages from given directory
#
# builtloc =    # location where packages are copied after built
#               # these path are taken relative to sandbox
#
# makeloc =     # location where make command has to issued
#               # these path are taken relative to git local repo
# Note:
# Sections are grouped as Individual targets, default targets and
# wrapper package. Place your new targets appropriately.
#
# This Config file is name without prefix 'contrail_' intentionally
# to avoid being picked up by default
# *****************************************************************

##############################################################################
# Default Section
# Values defined in default section applies to variables in all sections
# unless they're are overriden in the section

[DEFAULT]
pkgs          =
pkg_pattern   = {pkg}_[0-9]*.deb
builtloc      = build/debian/
target        = %(__name__)s
makeloc       =
os_tag        =
package_type  =

###############################################################################
#Virtual Target; Just picks up already built packages
[contrail-neutron-plugin-packages]
pkgs          = python-contrail, neutron-plugin-contrail
builtloc      = build/debian, build/packages
add_sku_tag   =
target        =
package_type  = contrail-neutron-plugin-packages

[contrail-vrouter-packages]
pkgs          = contrail-lib, contrail-nodemgr, contrail-nova-vif,
                contrail-openstack-vrouter, contrail-setup, contrail-utils,
                contrail-vrouter-4.4.0-38-generic, contrail-vrouter-agent,
                contrail-vrouter-common, contrail-vrouter-dkms, contrail-vrouter-dpdk,
                contrail-vrouter-dpdk-init, contrail-vrouter-init, contrail-vrouter-utils,
                python-contrail, python-contrail-vrouter-api, python-opencontrail-vrouter-netns,
                contrail-vrouter-source, contrail-fabric-utils
builtloc      = build/debian, build/packages
add_sku_tag   =
target        =
package_type  = contrail-vrouter-packages

[contrail-vcenter-vrouter-packages]
pkgs          = contrail-lib, contrail-nodemgr,
                contrail-vmware-vrouter, contrail-setup, contrail-utils,
                contrail-vrouter-4.4.0-38-generic, contrail-vrouter-agent,
                contrail-vrouter-common, contrail-vrouter-dkms, contrail-vrouter-dpdk,
                contrail-vrouter-dpdk-init, contrail-vrouter-init, contrail-vrouter-utils,
                python-contrail, python-contrail-vrouter-api, python-opencontrail-vrouter-netns,
                contrail-vrouter-source, contrail-fabric-utils
builtloc      = build/debian, build/packages
target        =
add_sku_tag   =
package_type  = contrail-vcenter-vrouter-packages

[contrail-openstack-packages]
pkgs          = nova-api, nova-api-metadata, nova-cells, nova-common,
                nova-compute, nova-compute-kvm, nova-conductor,
                nova-console, nova-consoleauth, nova-novncproxy,
                nova-scheduler, nova-compute-libvirt, python-nova,
                python-neutronclient,
                contrail-openstack, contrail-openstack-ha,
                contrail-heat, contrail-nova-networkapi,
                contrail-openstack-dashboard, ceilometer-plugin-contrail
add_sku_tag   = True
target        =
builtloc      = build/openstack
package_type  = contrail-openstack-packages

[contrail-storage-packages]
pkgs          = contrail-storage, contrail-web-storage
package_type  = contrail-storage-packages
builtloc      = build/artifacts
target        =

[contrail-docker-images]
pkgs          = contrail-controller-ubuntu16.04,
                contrail-analytics-ubuntu16.04, contrail-agent-ubuntu16.04,
                contrail-lb-ubuntu16.04, contrail-analyticsdb-ubuntu16.04
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-docker-images
add_sku_tag   =
builtloc      =
target        =

[contrail-cloud-docker-images]
pkgs          = contrail-ceph-controller-ubuntu16.04,
                contrail-vcenter-plugin-ubuntu16.04
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-cloud-docker-images
builtloc      =
target        =

[contrail-kubernetes-docker-images]
pkgs          = contrail-controller-ubuntu16.04, contrail-kube-manager-ubuntu16.04,
                contrail-analytics-ubuntu16.04, contrail-agent-ubuntu16.04,
                contrail-lb-ubuntu16.04, contrail-analyticsdb-ubuntu16.04,
                contrail-kubernetes-agent-ubuntu16.04
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-kubernetes-docker-images
add_sku_tag   =
builtloc      =
target        =

[contrail-networking-tools-tgz]
pkgs          = contrail-ansible
package_type  = contrail-networking-tools
pkg_pattern   = {pkg}-[0-9]*.tar.gz
builtloc      = build/artifacts_extra
add_sku_tag   =
target        =

[contrail-networking-tools-deb]
pkgs          = contrail-docker-tools
package_type  = contrail-networking-tools
builtloc      = build/debian
add_sku_tag   =
target        =

[contrail-networking-tools]
pkgs          =
package_type  = contrail-networking-tools
builtloc      = build/
add_sku_tag   =
target        =

[contrail-cloud-tools]
pkgs          = contrail-puppet
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-cloud-tools
add_sku_tag   = True
builtloc      = build/artifacts_extra
target        =

[openstack-extra-ocata]
pkgs          = contrail-heat, contrail-nova-networkapi,
                contrail-openstack-dashboard, nova-common, nova-compute,
                nova-compute-kvm, nova-compute-libvirt, python-nova,
                python-neutronclient
package_type  = openstack-extra-ocata
target        =
builtloc      = build/openstack, build/debian
add_sku_tag   =

[contrail-networking-openstack-extra]
pkgs          =
package_type  = contrail-networking-openstack-extra
target        =
builtloc      = build/artifacts/
add_sku_tag   =
sub_package_type = openstack-extra-ocata, openstack-extra-newton, openstack-extra-common

[contrail-cloud-packages]
pkgs          = ukai
package_type  = contrail-cloud-packages
builtloc      = build/debian/
target        =
add_sku_tag   =

[contrail-kubernetes-docker]
pkgs          =
package_type  = contrail-kubernetes-docker
add_sku_tag   =
target        =
os_tag        = xenial
sub_package_type = contrail-kubernetes-docker-images, contrail-networking-tools,
                   contrail-kubernetes-dependents, contrail-networking-thirdparty

[contrail-networking-docker]
pkgs          =
package_type  = contrail-networking-docker
builtloc      =
add_sku_tag   =
target        =
os_tag        = xenial
sub_package_type = contrail-docker-images, contrail-vrouter-packages,
                   contrail-networking-dependents, contrail-networking-thirdparty,
                   contrail-networking-tools, contrail-neutron-plugin-packages,
                   contrail-networking-openstack-extra

[contrail-cloud-docker]
pkgs          = openstack-docker-images
package_type  = contrail-cloud-docker
pkg_pattern   = {pkg}_[0-9]*.tgz
add_sku_tag   = True
builtloc      =
target        =
os_tag        = xenial
sub_package_type = contrail-networking-docker, contrail-cloud-dependents,
                   contrail-cloud-thirdparty, contrail-openstack-packages,
                   contrail-cloud-tools, contrail-cloud-packages,
                   contrail-storage-packages, contrail-cloud-docker-images

[contrail-vcenter-docker-images]
pkgs          = contrail-controller-ubuntu16.04,
                contrail-analytics-ubuntu16.04, contrail-agent-ubuntu16.04,
                contrail-lb-ubuntu16.04, contrail-analyticsdb-ubuntu16.04,
                contrail-vcenter-plugin-ubuntu16.04
pkg_pattern   = {pkg}-[0-9]*.tar.gz
package_type  = contrail-vcenter-docker-images
builtloc      =
target        =

[contrail-vcenter-docker]
pkgs          =
package_type  = contrail-vcenter-docker
builtloc      =
target        =
add_sku_tag   =
os_tag        = xenial
sub_package_type = contrail-vcenter-docker-images, contrail-vcenter-vrouter-packages,
                   contrail-vcenter-dependents, contrail-networking-thirdparty,
                   contrail-networking-tools

