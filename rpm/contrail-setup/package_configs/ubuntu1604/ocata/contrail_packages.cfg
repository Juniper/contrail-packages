# ****************************************************************
# CAUTION: ANY CHANGES TO DEFAULT APPLIES TO ALL SECTIONS
#          IF NOT OVERWRITTEN LOCALLY
# ****************************************************************
# Usage:
# [build target name]
# pkgs =        # list of packages generated by the make target
#               # multiple packages are comma separated or with
#               # new lines
#
# pkg_pattern = # pattern to match packages. would be used
#               # packager to pick packages from given directory
#
# builtloc =    # location where packages are copied after built
#               # these path are taken relative to sandbox
#
# add_sku_tag = # adds contrail sku tag to the wrapper tgz's name
#
# makeloc =     # location where make command has to issued
#               # these path are taken relative to git local repo
# Note:
# Sections are grouped as Individual targets, default targets and
# wrapper package. Place your new targets appropriately.
# *****************************************************************

##############################################################################
# Default Section
# Values defined in default section applies to variables in all sections
# unless they're are overriden in the section

[DEFAULT]
pkgs          =
pkg_pattern   = {pkg}_[0-9]*.deb
builtloc      = build/debian/
target        = %(__name__)s
makeloc       =
add_sku_tag   = True
package_type  = contrail-install-packages, contrail-packages

###############################################################################
# Individual target sections

[contrail]
pkgs      = contrail-analytics, contrail-config, contrail-control, contrail-lib,
          contrail-nova-driver, contrail-vrouter-agent, contrail-vrouter-dkms,
          contrail-vrouter-dpdk, contrail-vrouter-source,
          contrail-vrouter-utils, python-contrail, python-contrail-vrouter-api,
          contrail-vrouter-4.4.0-38-generic, contrail-config-openstack,
          contrail-dns, python-opencontrail-vrouter-netns, contrail-utils,
          contrail-nodemgr, contrail-docs, contrail-kube-manager,
          contrail-kube-cni, contrail-mesos-manager, contrail-cni,
          contrail-k8s-cni, contrail-config-vmware
makeloc   = tools/packaging/common/debian
builtloc  = build/packages

[contrail-database-common-deb]
pkgs      = contrail-database-common
makeloc   = tools/packaging/common/debian

[contrail-heat-deb]
pkgs      = contrail-heat
makeloc   = tools/packaging/common/debian
builtloc  = build/debian/
package_type = contrail-install-packages, contrail-packages, contrail-openstack-packages

[contrail-vrouter-init-deb]
pkgs      = contrail-vrouter-init
makeloc   = tools/packaging/common/debian

[contrail-vrouter-common-deb]
pkgs      = contrail-vrouter-common
makeloc   = tools/packaging/common/debian

[contrail-vrouter-dpdk-init-deb]
pkgs      = contrail-vrouter-dpdk-init
makeloc   = tools/packaging/common/debian

[contrail-web-core-deb]
pkgs      = contrail-web-core
makeloc   = tools/packaging/common/debian

[contrail-web-controller-deb]
pkgs      = contrail-web-controller
makeloc   = tools/packaging/common/debian

[contrail-vmware-utils-deb]
pkgs      = contrail-vmware-utils
makeloc   = tools/packaging/common/debian

[contrail-vmware-config-deb]
pkgs      = contrail-vmware-config
makeloc   = tools/packaging/common/debian

[contrail-vmware-vrouter-deb]
pkgs      = contrail-vmware-vrouter
makeloc   = tools/packaging/common/debian

#vcenter-plugin packages

[contrail-vcenter-plugin]
pkgs = contrail-vcenter-plugin
makeloc   = tools/packaging/common/debian
builtloc  = tools/packaging/common/debian/vcenter-plugin/build

[libcontrail-java-api]
pkgs = libcontrail-java-api
makeloc   = tools/packaging/common/debian
builtloc  = tools/packaging/common/debian/vcenter-plugin/build

[libcontrail-vijava]
pkgs = libcontrail-vijava
makeloc   = tools/packaging/common/debian
builtloc  = tools/packaging/common/debian/vcenter-plugin/build

[libcontrail-vrouter-java-api]
pkgs = libcontrail-vrouter-java-api 
makeloc   = tools/packaging/common/debian
builtloc  = tools/packaging/common/debian/vcenter-plugin/build

#end vcenter-plugin packages

[contrail-nova-vif-deb]
pkgs      = contrail-nova-vif
makeloc   = tools/packaging/common/debian

[contrail-nova-networkapi-deb]
pkgs      = contrail-nova-networkapi
makeloc   = tools/packaging/common/debian
package_type = contrail-install-packages, contrail-packages, contrail-openstack-packages

[contrail-setup-deb]
pkgs      = contrail-setup
makeloc   = tools/packaging/common/debian

[contrail-fabric-utils-deb]
pkgs      = contrail-fabric-utils
makeloc   = tools/packaging/common/debian
package_type  = contrail-install-packages, contrail-packages, contrail-installer-packages

[contrail-openstack-deb]
pkgs      = contrail-openstack
makeloc   = tools/packaging/common/debian
package_type = contrail-install-packages, contrail-packages, contrail-openstack-packages

[contrail-openstack-analytics-deb]
pkgs      = contrail-openstack-analytics
makeloc   = tools/packaging/common/debian

[contrail-openstack-config-deb]
pkgs      = contrail-openstack-config
makeloc   = tools/packaging/common/debian

[contrail-openstack-control-deb]
pkgs      = contrail-openstack-control
makeloc   = tools/packaging/common/debian

[contrail-openstack-database-deb]
pkgs      = contrail-openstack-database
makeloc   = tools/packaging/common/debian

[contrail-openstack-vrouter-deb]
pkgs      = contrail-openstack-vrouter
makeloc   = tools/packaging/common/debian

[contrail-openstack-webui-deb]
pkgs      = contrail-openstack-webui
makeloc   = tools/packaging/common/debian

[contrail-openstack-dashboard-deb]
pkgs      = contrail-openstack-dashboard
makeloc   = tools/packaging/common/debian
package_type = contrail-install-packages, contrail-openstack-packages

#[contrail-ostack-dashboard-deb]
#pkgs      = openstack-dashboard
#makeloc   = tools/packaging/common/debian

[openstack-python-neutronclient-deb]
pkgs      = python-neutronclient
makeloc   = tools/packaging/openstack/debian
builtloc  = build/openstack/
package_type = contrail-install-packages, contrail-openstack-packages

[neutron-plugin-contrail-deb]
pkgs      = neutron-plugin-contrail
makeloc   = tools/packaging/openstack/debian
builtloc  = build/debian/

[ceilometer-plugin-contrail-deb]
pkgs      = ceilometer-plugin-contrail
makeloc   = tools/packaging/common/debian
builtloc  = build/debian/
package_type = contrail-install-packages, contrail-packages, contrail-openstack-packages

#Virtual Target; Just picks up already built packages
[contrail-openstack-networking]
pkgs          = contrail-heat, ceilometer-plugin-contrail, contrail-nova-networkapi,
                contrail-openstack-dashboard
package_type  = contrail-openstack-networking
add_sku_tag   = True
builtloc      = build/debian/, build/openstack
target        =

[vrouter-openstack-extra]
pkgs          = nova-common, nova-compute, nova-compute-kvm,
                nova-compute-libvirt, python-nova, python-neutronclient
package_type  = vrouter-openstack-extra
add_sku_tag   = True
builtloc      = build/openstack
target        =

[neutron-plugin-contrail-openstack-extra]
pkgs          = python-neutronclient
builtloc      = build/openstack
add_sku_tag   = True
target        =
package_type  = neutron-plugin-contrail-openstack-extra

[contrail-cloud]
pkgs          =
package_type  = contrail-cloud
builtloc      = build/
target        =
sub_package_type = contrail-packages, contrail-openstack-packages,
                   contrail-thirdparty-packages, contrail-dependent-packages,
                   contrail-server-manager-installer

[contrail-networking]
pkgs          =
package_type  = contrail-networking
builtloc      = build/
target        =
sub_package_type = contrail-packages, vrouter-openstack-extra, cfgm-openstack-extra,
                   contrail-thirdparty-packages, contrail-dependent-packages

[openstack-nova-deb]
pkgs       = python-nova, nova-api, nova-api-metadata, nova-common, nova-compute,
            nova-compute-xen, nova-compute-qemu, nova-compute-kvm,  
            nova-conductor, nova-cert, nova-scheduler, nova-volume, 
            nova-novncproxy, nova-xvpvncproxy,  nova-compute-libvirt,
            nova-network, nova-console, nova-consoleauth, nova-doc, 
            nova-api-os-compute, nova-api-os-volume, nova-cells, nova-placement-api,
            nova-compute-lxc, nova-ajax-console-proxy, nova-compute-vmware,
            nova-ajax-console-proxy, nova-spiceproxy, nova-serialproxy
makeloc   = tools/packaging/openstack/debian
builtloc  = build/openstack
package_type  = contrail-install-packages, contrail-openstack-packages

[contrail-openstack-ha-deb]
pkgs      = contrail-openstack-ha
makeloc   = tools/packaging/common/debian
package_type = contrail-install-packages, contrail-packages, contrail-openstack-packages

[contrail-f5-deb]
pkgs      = contrail-f5
makeloc   = tools/packaging/common/debian
builtloc  = build/debian

[ukai-deb]
pkgs      = ukai
makeloc   = ukai
builtloc  = build/debian

[contrail-puppet]
pkgs      = contrail-puppet
makeloc   = tools/packaging/common/debian

[contrail-docker-tools]
pkgs      = contrail-docker-tools
makeloc   = tools/packaging/common/debian
builtloc  = build/debian

###############################################################################
# Wrapper Package Sections

[contrail-installer-packages]
pkgs         = contrail-installer-packages
makeloc      = tools/packaging/common/debian
package_type  = contrail-installer-packages

[contrail-install-packages]
pkgs         = contrail-install-packages
makeloc      = tools/packaging/common/debian
target       = contrail-install-packages-deb
package_type  = contrail-install-packages

[contrail-packages]
pkgs      = contrail-packages
makeloc   = tools/packaging/common/debian
package_type  = contrail-packages
sub_package_type = vrouter-openstack-extra, cfgm-openstack-extra

[contrail-thirdparty-packages]
pkgs      = contrail-thirdparty-packages
makeloc   = tools/packaging/common/debian
package_type  = contrail-thirdparty-packages

[contrail-dependent-packages]
pkgs      = contrail-dependent-packages
makeloc   = tools/packaging/common/debian
package_type  = contrail-dependent-packages

[contrail-openstack-packages]
pkgs      = contrail-openstack-packages
makeloc   = tools/packaging/common/debian
package_type  = contrail-openstack-packages

###############################################################################
# Default target sections

[openstack-default-target]
pkgs         =
makeloc      = tools/packaging/openstack/debian
target       = all
builtloc     = build/openstack/
package_type = contrail-install-packages

[contrail-default-target]
pkgs         =
makeloc      = tools/packaging/common/debian/
target       = all
builtloc     = build/debian/
package_type = contrail-install-packages
