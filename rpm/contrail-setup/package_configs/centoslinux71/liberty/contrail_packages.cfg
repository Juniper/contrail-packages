# *****************************************************************************
# CAUTION: ANY CHANGES TO DEFAULT APPLIES TO ALL SECTIONS
#          IF NOT OVERWRITTEN LOCALLY
# *****************************************************************************
# Usage:
# [build target name]
# pkgs =        # list of packages generated by the make target
#               # multiple packages are comma separated or with
#               # new lines
#
# pkg_pattern = # pattern to match packages. would be used
#               # packager to pick packages from given directory
#
# builtloc =    # location where packages are copied after built
#               # these path are taken relative to sandbox
#
# add_sku_tag = # adds contrail sku tag to the wrapper tgz's name
#
# makeloc =     # location where make command has to issued
#               # these path are taken relative to sandbox
#
# Note:
# Sections are grouped as Individual targets, default targets and
# wrapper package. Place your new targets appropriately.
# *****************************************************************************

##############################################################################
# Default Section
# Values defined in default section applies to variables in all sections
# unless they're are overriden in the section

[DEFAULT]
pkgs          =
pkg_pattern   = {pkg}-[0-9]*.rpm
builtloc      = controller/build/package-build/RPMS/
target        = %(__name__)s
makeloc       =
add_sku_tag   = True
package_type  = contrail-install-packages, contrail-packages

###############################################################################
# Individual target sections

[contrail]
pkgs      = contrail-analytics, contrail-config, contrail-control, contrail-lib,
            contrail-vrouter-agent, contrail-vrouter-source, contrail-vrouter-utils,
            python-contrail, python-contrail-vrouter-api, contrail-vrouter,
            contrail-config-openstack, contrail-utils,
            python-opencontrail-vrouter-netns, contrail-docs
makeloc   = tools/packaging/common/rpm

[contrail-dns]
pkgs      = contrail-dns
makeloc   = tools/packaging/common/rpm

[contrail-database-common]
pkgs      = contrail-database-common
makeloc   = tools/packaging/common/rpm

[contrail-interface-name]
pkgs      = contrail-interface-name
makeloc   = tools/packaging/common/rpm

[contrail-heat]
pkgs      = contrail-heat
makeloc   = tools/packaging/common/rpm

[contrail-setup]
pkgs      = contrail-setup
makeloc   = tools/packaging/common/rpm

[contrail-openstack]
pkgs      = contrail-openstack
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-analytics]
pkgs      = contrail-openstack-analytics
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-config]
pkgs      = contrail-openstack-config
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-control]
pkgs      = contrail-openstack-control
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-database]
pkgs      = contrail-openstack-database
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-vrouter]
pkgs      = contrail-openstack-vrouter
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-openstack-webui]
pkgs      = contrail-openstack-webui
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages, contrail-openstack-packages, contrail-packages

[contrail-web-core]
pkgs      = contrail-web-core
makeloc   = tools/packaging/common/rpm

[contrail-web-controller]
pkgs      = contrail-web-controller
makeloc   = tools/packaging/common/rpm

[contrail-database]
pkgs      = contrail-database
makeloc   = tools/packaging/common/rpm

[contrail-fabric-utils]
pkgs      = contrail-fabric-utils
makeloc   = tools/packaging/third_party/
package_type  = contrail-install-packages, contrail-packages, contrail-installer-packages

[contrail-nodemgr]
pkgs      = contrail-nodemgr
makeloc   = tools/packaging/common/rpm

[contrail-vrouter-init]
pkgs      = contrail-vrouter-init
makeloc   = tools/packaging/common/rpm

[contrail-vrouter-common]
pkgs      = contrail-vrouter-common
makeloc   = tools/packaging/common/rpm

[neutron-plugin-contrail]
pkgs      = neutron-plugin-contrail
makeloc   = tools/packaging/common/rpm

[contrail-nova-networkapi]
pkgs      = contrail-nova-networkapi
makelog   = tools/packaging/common/rpm

[contrail-puppet]
pkgs      = contrail-puppet
makeloc   = tools/packaging/common/rpm

###############################################################################
# Virtual Target sections

[contrail-cloud]
pkgs          =
package_type  = contrail-cloud
builtloc      = build/
target        =
sub_package_type = contrail-packages, contrail-openstack-packages,
                   contrail-thirdparty-packages, contrail-dependent-packages

[contrail-networking]
pkgs          =
package_type  = contrail-networking
builtloc      = build/
target        =
sub_package_type = contrail-packages, contrail-thirdparty-packages,
                   contrail-dependent-packages

###############################################################################
# Wrapper Package Sections

[contrail-installer-packages]
pkgs         = contrail-installer-packages
makeloc      = tools/packaging/common/rpm
package_type  = contrail-installer-packages

[contrail-install-packages]
pkgs      = contrail-install-packages
makeloc   = tools/packaging/common/rpm
package_type  = contrail-install-packages

[contrail-thirdparty-packages]
pkgs      = contrail-thirdparty-packages
makeloc   = tools/packaging/common/rpm
package_type  = contrail-thirdparty-packages

[contrail-packages]
pkgs      = contrail-packages
makeloc   = tools/packaging/common/rpm
package_type = contrail-packages

[contrail-dependent-packages]
pkgs      = contrail-dependent-packages
makeloc   = tools/packaging/common/rpm
package_type  = contrail-dependent-packages

[contrail-openstack-packages]
pkgs      = contrail-openstack-packages
makeloc   = tools/packaging/common/rpm
package_type  = contrail-openstack-packages

###############################################################################
# Default target sections

[contrail-default-target]
pkgs      =
makeloc   = tools/packaging/common/rpm
target    = all
package_type  = contrail-install-packages

[openstack-default-target]
pkgs      =
makeloc   = tools/packaging/openstack/centos_64
target    = all
package_type  = contrail-install-packages
